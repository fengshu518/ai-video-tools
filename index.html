<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>æŠ–éŸ³è¯„è®ºç”Ÿæˆå™¨ - ç»ˆæå®Œå…¨ä½“</title>
    <style>
        :root {
            --douyin-bg: #ffffff;
            --douyin-text: #161823;
            --douyin-gray: #94959a;
            --douyin-line: #f2f2f2;
            --douyin-red: #ff2c55;
            --douyin-heart-gray: #94959a;
            --primary-blue: #007bff;
        }

        .dark-theme {
            --douyin-bg: #161722;
            --douyin-text: #ffffff;
            --douyin-gray: #8a8b91;
            --douyin-line: #222;
            --douyin-heart-gray: #8a8b91;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Helvetica Neue", Arial, sans-serif;
            background-color: #f4f5f7;
            display: flex;
            justify-content: center;
            padding: 30px 20px;
            margin: 0;
        }

        .container { display: flex; gap: 20px; max-width: 1100px; width: 100%; }

        /* å·¦ä¾§æ§åˆ¶å° */
        .controls {
            flex: 1; background: white; padding: 20px; border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08); max-height: 95vh; overflow-y: auto;
        }
        h2 { font-size: 18px; margin: 0 0 15px; color: #333; border-bottom: 1px solid #eee; padding-bottom: 10px; }
        .section-title { font-size: 12px; color: #999; margin: 15px 0 8px; font-weight: bold; }

        /* é€‰é¡¹ç»„æŒ‰é’® */
        .btn-group { display: flex; background: #f0f0f0; padding: 3px; border-radius: 8px; margin-bottom: 15px; }
        .btn-group div { flex: 1; text-align: center; padding: 7px; cursor: pointer; font-size: 12px; border-radius: 6px; }
        .btn-group .active { background: white; box-shadow: 0 2px 4px rgba(0,0,0,0.1); font-weight: bold; }

        /* å¤´åƒç½‘æ ¼ - æ‰¾å›æ¥äº†ï¼ */
        .avatar-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px; background: #f9f9f9; padding: 10px; border-radius: 10px; margin-bottom: 15px; }
        .avatar-item { width: 100%; aspect-ratio: 1/1; border-radius: 50%; cursor: pointer; border: 2px solid transparent; object-fit: cover; transition: 0.2s; }
        .avatar-item:hover { transform: scale(1.1); }
        .avatar-item.selected { border-color: var(--douyin-red); transform: scale(1.1); }

        .input-group { margin-bottom: 10px; }
        .input-group label { display: block; margin-bottom: 4px; font-size: 12px; color: #666; }
        .input-group input, .input-group textarea {
            width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 6px; box-sizing: border-box; outline: none; font-size: 13px;
        }

        /* å³ä¾§é¢„è§ˆåŒº */
        .preview-wrapper { width: 450px; position: sticky; top: 30px; }
        .preview-container {
            background-color: var(--douyin-bg); color: var(--douyin-text);
            padding: 20px 0; border-radius: 8px; transition: 0.3s;
        }

        .comment-item { padding: 10px 16px; display: flex; align-items: flex-start; }
        .avatar-box { width: 36px; height: 36px; border-radius: 50%; background: #eee; margin-right: 12px; flex-shrink: 0; overflow: hidden; }
        .avatar-box img { width: 100%; height: 100%; object-fit: cover; }

        .content-box { flex: 1; margin-right: 10px; }
        .nickname { font-size: 13px; color: var(--douyin-gray); margin-bottom: 4px; }
        .comment-text { font-size: 15px; line-height: 1.5; margin-bottom: 6px; }
        .meta-info { font-size: 13px; color: var(--douyin-gray); display: flex; gap: 10px; }

        /* å±•å¼€å›å¤ */
        .expand-replies { margin-top: 10px; display: flex; align-items: center; font-size: 13px; color: var(--douyin-gray); font-weight: 500; }
        .line { width: 20px; height: 1px; background: var(--douyin-gray); opacity: 0.3; margin-right: 8px; }

        /* å³ä¾§æ“ä½œåŒº - å®Œç¾å¯¹é½ç‰ˆ */
        .action-box { display: flex; align-items: center; gap: 12px; margin-top: 25px; }
        .like-group { display: flex; align-items: center; gap: 4px; cursor: pointer; }
        .icon-heart { width: 20px; height: 20px; fill: var(--douyin-heart-gray); transition: fill 0.2s; }
        .like-count { font-size: 13px; color: var(--douyin-gray); font-weight: 500; }
        
        .is-liked .icon-heart { fill: var(--douyin-red) !important; }
        .is-liked .like-count { color: var(--douyin-red) !important; }

        .broken-heart { width: 20px; height: 20px; fill: none; stroke: var(--douyin-heart-gray); stroke-width: 1.5; cursor: pointer; }
    </style>
</head>
<body>

<div class="container">
    <div class="controls">
        <h2>æŠ–éŸ³è¯„è®ºåˆ¶ä½œ - å®Œå…¨ä½“</h2>
        
        <div class="section-title">ä¸»é¢˜ä¸ç‚¹èµ</div>
        <div style="display: flex; gap: 10px;">
            <div class="btn-group" id="themeGroup" style="flex: 1;">
                <div class="active" onclick="changeTheme('light')">â˜€ï¸ ç™½å¤©</div>
                <div onclick="changeTheme('dark')">ğŸŒ™ å¤œé—´</div>
            </div>
            <div class="btn-group" id="likeGroup" style="flex: 1;">
                <div class="active" onclick="toggleLike(false)">é»˜è®¤ç°</div>
                <div onclick="toggleLike(true)">å·²ç‚¹çº¢</div>
            </div>
        </div>

        <!-- æ‰¾å›æ¥çš„å¤´åƒåº“ -->
        <div class="section-title">ç‚¹å‡»æ›´æ¢å¤´åƒ</div>
        <div class="avatar-grid" id="avGrid"></div>

        <div class="section-title">å†…å®¹åŒæ­¥</div>
        <div class="input-group"><label>æ˜µç§°</label><input type="text" id="inNick" value="åŠå¤œçš„å°çŒ«"></div>
        <div class="input-group"><label>è¯„è®ºå†…å®¹</label><textarea id="inContent" rows="3">åŠå¤œç¬‘å‡ºé¹…å«çš„å°è¯´</textarea></div>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
            <div class="input-group"><label>å‘å¸ƒæ—¶é—´</label><input type="text" id="inTime" value="9å°æ—¶å‰"></div>
            <div class="input-group"><label>IP å±åœ°</label><input type="text" id="inIP" value="æ–°ç–†"></div>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
            <div class="input-group"><label>è·èµæ•°é‡</label><input type="text" id="inLikes" value="2.4w"></div>
            <div class="input-group"><label>å›å¤æ•°é‡</label><input type="text" id="inReplies" value="7634"></div>
        </div>
    </div>

    <!-- é¢„è§ˆåŒº -->
    <div class="preview-wrapper">
        <div class="preview-container" id="previewBox">
            <div class="comment-item">
                <div class="avatar-box"><img src="" id="pAvatar"></div>
                
                <div class="content-box">
                    <div class="nickname" id="pNick">æ˜µç§°</div>
                    <div class="comment-text" id="pContent">å†…å®¹</div>
                    <div class="meta-info">
                        <span id="pTime">æ—¶é—´</span>
                        <span>Â· <span id="pIP">IP</span></span>
                        <span style="font-weight: bold; margin-left: 5px;">å›å¤</span>
                    </div>
                    
                    <div class="expand-replies" id="pReplyRow">
                        <div class="line"></div>
                        <span>å±•å¼€<span id="pReplyCount">0</span>æ¡å›å¤</span>
                        <span style="font-size: 10px; margin-left: 4px;">âˆ¨</span>
                    </div>
                </div>

                <div class="action-box" id="pActionBox">
                    <div class="like-group">
                        <svg class="icon-heart" viewBox="0 0 24 24">
                            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                        </svg>
                        <div class="like-count" id="pLikes">0</div>
                    </div>
                    <svg class="broken-heart" viewBox="0 0 24 24">
                        <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35zm-1-14l2 3-2 3 2 3h-2l-2-3 2-3-2-3h2z"/>
                    </svg>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // 1. å¤´åƒåº“é…ç½®
    const avatarList = [
        "https://api.dicebear.com/7.x/avataaars/svg?seed=8",
        "https://api.dicebear.com/7.x/avataaars/svg?seed=12",
        "https://api.dicebear.com/7.x/avataaars/svg?seed=50",
        "https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=100",
        "https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100",
        "https://images.unsplash.com/photo-1599566150163-29194dcaad36?w=100",
        "https://api.dicebear.com/7.x/bottts/svg?seed=9",
        "https://api.dicebear.com/7.x/pixel-art/svg?seed=22",
        "https://api.dicebear.com/7.x/avataaars/svg?seed=Felix",
        "https://api.dicebear.com/7.x/avataaars/svg?seed=Sophie"
    ];

    const grid = document.getElementById('avGrid');
    const pAvatar = document.getElementById('pAvatar');

    avatarList.forEach((src, i) => {
        const img = document.createElement('img');
        img.src = src;
        img.className = 'avatar-item' + (i === 0 ? ' selected' : '');
        img.onclick = function() {
            document.querySelectorAll('.avatar-item').forEach(el => el.classList.remove('selected'));
            this.classList.add('selected');
            pAvatar.src = src;
        };
        grid.appendChild(img);
    });
    pAvatar.src = avatarList[0];

    // 2. æ¨¡å¼ä¸ç‚¹èµ
    function changeTheme(m) {
        const box = document.getElementById('previewBox');
        const btns = document.getElementById('themeGroup').children;
        if(m === 'dark') {
            box.classList.add('dark-theme');
            btns[1].classList.add('active'); btns[0].classList.remove('active');
        } else {
            box.classList.remove('dark-theme');
            btns[0].classList.add('active'); btns[1].classList.remove('active');
        }
    }

    function toggleLike(isLiked) {
        const actionBox = document.getElementById('pActionBox');
        const btns = document.getElementById('likeGroup').children;
        if(isLiked) {
            actionBox.classList.add('is-liked');
            btns[1].classList.add('active'); btns[0].classList.remove('active');
        } else {
            actionBox.classList.remove('is-liked');
            btns[0].classList.add('active'); btns[1].classList.remove('active');
        }
    }

    // 3. å®æ—¶åŒæ­¥
    function sync() {
        document.getElementById('pNick').innerText = document.getElementById('inNick').value;
        document.getElementById('pContent').innerText = document.getElementById('inContent').value;
        document.getElementById('pTime').innerText = document.getElementById('inTime').value;
        document.getElementById('pIP').innerText = document.getElementById('inIP').value;
        document.getElementById('pLikes').innerText = document.getElementById('inLikes').value;
        document.getElementById('pReplyCount').innerText = document.getElementById('inReplies').value;
    }

    const ids = ['inNick','inContent','inTime','inIP','inLikes','inReplies'];
    ids.forEach(id => document.getElementById(id).addEventListener('input', sync));
    sync();
</script>

</body>
</html>
